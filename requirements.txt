# requirements_huggingface.txt - Version optimisée pour Hugging Face Spaces
# Cette version évite les problèmes connus sur HF tout en gardant toutes les fonctionnalités

# =============================================================================
# FRAMEWORK PRINCIPAL
# =============================================================================
streamlit==1.31.0
streamlit-chat==0.1.1

# =============================================================================
# IA ET TRAITEMENT DU LANGAGE - TOUTES LES APIs
# =============================================================================
openai==1.12.0
anthropic==0.25.8
google-generativeai==0.5.4
mistralai==0.1.8               # Mistral inclus
groq==0.4.2

# Tokenization
tiktoken==0.6.0

# =============================================================================
# TRAITEMENT DE DOCUMENTS
# =============================================================================
# Documents Office
python-docx==1.1.0
openpyxl==3.1.2
xlsxwriter==3.1.9              # Pour exports avancés

# PDF
PyPDF2==3.0.1
reportlab==4.1.0
# pdfplumber==0.10.3           # Commenté car peut être lourd

# Parsing et détection
chardet==5.2.0
beautifulsoup4==4.12.3
# lxml==5.1.0                  # Peut causer des problèmes de compilation sur HF

# =============================================================================
# AZURE (gardez si vous utilisez Azure)
# =============================================================================
azure-storage-blob==12.19.0
azure-search-documents==11.4.0
azure-identity==1.15.0
azure-core==1.29.7

# =============================================================================
# TRAITEMENT ET ANALYSE DE DONNÉES
# =============================================================================
pandas==2.2.0
numpy==1.26.3
python-dateutil==2.8.2
pytz==2024.1

# =============================================================================
# VISUALISATION
# =============================================================================
plotly==5.19.0
# matplotlib==3.8.2            # Éviter sur HF, utiliser plotly
# seaborn==0.13.2              # Idem
# networkx==3.2.1              # Peut être lourd

# =============================================================================
# UTILITAIRES ESSENTIELS
# =============================================================================
# Configuration
python-dotenv==1.0.1
pyyaml==6.0.1

# HTTP et API
httpx==0.26.0
requests==2.31.0
beautifulsoup4==4.12.3
aiofiles==23.2.1

# Validation et sérialisation
pydantic==2.6.0
python-multipart==0.0.6

# Performance
tenacity==8.2.3
cachetools==5.3.2

# Templates
jinja2==3.1.3

# =============================================================================
# SÉCURITÉ (version légère)
# =============================================================================
cryptography==42.0.2
email-validator==2.1.0

# =============================================================================
# COMPOSANTS INTERFACE AMÉLIORÉE
# =============================================================================
streamlit-option-menu==0.3.12   # Pour navigation avancée
# streamlit-extras==0.3.6        # Peut causer des conflits

# =============================================================================
# EXCLUS POUR HUGGING FACE
# =============================================================================
# ❌ langchain (trop lourd, remplacer par appels directs)
# ❌ chromadb (problèmes de compilation)
# ❌ faiss-cpu (compilation C++)
# ❌ selenium (nécessite un navigateur)
# ❌ python-magic (nécessite libmagic système)
# ❌ sqlalchemy (pas nécessaire sans BDD)

# =============================================================================
# AJOUTS SPÉCIFIQUES POUR LES NOUVELLES FONCTIONNALITÉS
# =============================================================================
# Pour templates Word (léger)
python-docx-template==0.1.1

# Pour gestion asynchrone
nest-asyncio==1.6.0

# Pour les exports
# xlsxwriter déjà inclus plus haut

# =============================================================================
# NOTES D'UTILISATION
# =============================================================================
# 1. Cette version est testée sur Hugging Face Spaces
# 2. Temps de build : ~2-3 minutes
# 3. Toutes les fonctionnalités de l'interface améliorée fonctionnent
# 4. Si erreur, commentez d'abord les packages Azure
# 5. Mistral est inclus et fonctionnel